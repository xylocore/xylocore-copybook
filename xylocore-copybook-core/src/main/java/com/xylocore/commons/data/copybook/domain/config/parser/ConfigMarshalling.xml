<?xml version="1.0" encoding="UTF-8"?>

<mapping xmlns              = "http://castor.exolab.org/"
         xmlns:xsi          = "http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation = "http://castor.exolab.org/ http://castor.exolab.org/mapping.xsd">

  <!--description>Copybook configuration marshalling</description-->

    <class name="com.xylocore.commons.data.copybook.domain.config.Environment">
        <map-to xml="Environment" ns-uri="http://www.xylocore.com/copybook-integrator/environment/2007-10" ns-prefix="ci"/>
        <field name="PackageName"                  type="string"/>
        <field name="ClassName"                    type="string"/>
        <field name="GenerationRootDirectory"      type="string"/>
        <field name="CopybookFilename"             type="string"/>
        <field name="ImplicitRecordName"           type="string"/>
        <field name="MinimumIntegerDataType"       type="string" handler="com.xylocore.commons.data.copybook.domain.config.parser.DataTypeFieldHandler"/>
        <field name="MinimumFloatingPointDataType" type="string" handler="com.xylocore.commons.data.copybook.domain.config.parser.DataTypeFieldHandler"/>
        <field name="MappingMetadata"              type="com.xylocore.commons.data.copybook.domain.config.MappingMetadata"/>
        <field name="RightMarginLimit"             type="integer"/>
    </class>
  
    <class name="com.xylocore.commons.data.copybook.domain.config.MappingMetadata">
        <map-to xml="MappingMetadata"/>
        <field name="elements" type="com.xylocore.commons.data.copybook.domain.config.ElementConfig" collection="collection" get-method="getElements" set-method="addElement"/>
    </class>
  
    <class name="com.xylocore.commons.data.copybook.domain.config.ElementConfig">
        <field name="id" type="string" required="true">
            <bind-xml node="attribute"/>
        </field>
    </class>
  
    <class name="com.xylocore.commons.data.copybook.domain.config.DataElementConfig" extends="com.xylocore.commons.data.copybook.domain.config.ElementConfig">
        <map-to xml="DataElement"/>
        <field name="filters"         type="com.xylocore.commons.data.copybook.domain.config.ElementFilterConfig"  collection="collection" get-method="getFilters"         set-method="addFilter"        />
        <field name="accessors"       type="com.xylocore.commons.data.copybook.domain.config.AccessorConfig"       collection="collection" get-method="getAccessors"       set-method="addAccessor"      />
        <field name="nullEquivalents" type="com.xylocore.commons.data.copybook.domain.config.NullEquivalentConfig" collection="collection" get-method="getNullEquivalents" set-method="addNullEquivalent"/>
    </class>

    <class name="com.xylocore.commons.data.copybook.domain.config.GroupElementConfig" extends="com.xylocore.commons.data.copybook.domain.config.ElementConfig">
        <map-to xml="GroupElement"/>
        <field name="elements" type="com.xylocore.commons.data.copybook.domain.config.ElementConfig" collection="collection" get-method="getElements" set-method="addElement"/>
    </class>

    <class name="com.xylocore.commons.data.copybook.domain.config.ElementFilterConfig">
        <field name="name" type="string">
            <bind-xml node="attribute"/>
        </field>
    </class>
    
    <class name="com.xylocore.commons.data.copybook.domain.config.IncludedElementFilterConfig" extends="com.xylocore.commons.data.copybook.domain.config.ElementFilterConfig">
        <map-to xml="Include"/>
    </class>
    
    <class name="com.xylocore.commons.data.copybook.domain.config.ExcludedElementFilterConfig" extends="com.xylocore.commons.data.copybook.domain.config.ElementFilterConfig">
        <map-to xml="Exclude"/>
    </class>
      
    <class name="com.xylocore.commons.data.copybook.domain.config.AccessorConfig"/>

    <class name="com.xylocore.commons.data.copybook.domain.config.NoDefaultAccessorConfig" extends="com.xylocore.commons.data.copybook.domain.config.AccessorConfig">
        <map-to xml="NoDefaultAccessor"/>
    </class>
  
    <class name="com.xylocore.commons.data.copybook.domain.config.DefaultAccessorConfig" extends="com.xylocore.commons.data.copybook.domain.config.AccessorConfig">
        <map-to xml="DefaultAccessor"/>
    </class>
    
    <class name="com.xylocore.commons.data.copybook.domain.config.ByteAccessorConfig" extends="com.xylocore.commons.data.copybook.domain.config.AccessorConfig">
        <map-to xml="ByteAccessor"/>
    </class>
    
    <class name="com.xylocore.commons.data.copybook.domain.config.CharAccessorConfig" extends="com.xylocore.commons.data.copybook.domain.config.AccessorConfig">
        <map-to xml="CharAccessor"/>
    </class>
    
    <class name="com.xylocore.commons.data.copybook.domain.config.ShortAccessorConfig" extends="com.xylocore.commons.data.copybook.domain.config.AccessorConfig">
        <map-to xml="ShortAccessor"/>
    </class>
    
    <class name="com.xylocore.commons.data.copybook.domain.config.IntegerAccessorConfig" extends="com.xylocore.commons.data.copybook.domain.config.AccessorConfig">
        <map-to xml="IntegerAccessor"/>
    </class>
    
    <class name="com.xylocore.commons.data.copybook.domain.config.LongAccessorConfig" extends="com.xylocore.commons.data.copybook.domain.config.AccessorConfig">
        <map-to xml="LongAccessor"/>
    </class>
    
    <class name="com.xylocore.commons.data.copybook.domain.config.FloatAccessorConfig" extends="com.xylocore.commons.data.copybook.domain.config.AccessorConfig">
        <map-to xml="FloatAccessor"/>
    </class>
    
    <class name="com.xylocore.commons.data.copybook.domain.config.DoubleAccessorConfig" extends="com.xylocore.commons.data.copybook.domain.config.AccessorConfig">
        <map-to xml="DoubleAccessor"/>
    </class>
    
    <class name="com.xylocore.commons.data.copybook.domain.config.BigIntegerAccessorConfig" extends="com.xylocore.commons.data.copybook.domain.config.AccessorConfig">
        <map-to xml="BigIntegerAccessor"/>
    </class>
    
    <class name="com.xylocore.commons.data.copybook.domain.config.BigDecimalAccessorConfig" extends="com.xylocore.commons.data.copybook.domain.config.AccessorConfig">
        <map-to xml="BigDecimalAccessor"/>
        <field name="scale" type="integer" required="false">
            <bind-xml node="attribute"/>
        </field>
    </class>
    
    <class name="com.xylocore.commons.data.copybook.domain.config.StringAccessorConfig" extends="com.xylocore.commons.data.copybook.domain.config.AccessorConfig">
        <map-to xml="StringAccessor"/>
    </class>
    
    <class name="com.xylocore.commons.data.copybook.domain.config.DateAccessorConfig" extends="com.xylocore.commons.data.copybook.domain.config.AccessorConfig">
        <map-to xml="DateAccessor"/>
        <field name="pattern" type="string" required="true">
            <bind-xml node="attribute"/>
        </field>
    </class>
  
    <class name="com.xylocore.commons.data.copybook.domain.config.NullEquivalentConfig"/>
  
    <class name="com.xylocore.commons.data.copybook.domain.config.BlankNullEquivalentConfig" extends="com.xylocore.commons.data.copybook.domain.config.NullEquivalentConfig">
        <map-to xml="BlankNullEquivalent"/>
    </class>
  
    <class name="com.xylocore.commons.data.copybook.domain.config.ConstantNullEquivalentConfig" extends="com.xylocore.commons.data.copybook.domain.config.NullEquivalentConfig">
        <map-to xml="ConstantNullEquivalent"/>
        <field name="dataUsageCategory" type="string" required="false" handler="com.xylocore.commons.data.copybook.domain.config.parser.DataUsageCategoryFieldHandler">
            <bind-xml node="attribute"/>
        </field>
        <field name="value" type="string" required="true">
            <bind-xml node="attribute"/>
        </field>
    </class>

</mapping>
